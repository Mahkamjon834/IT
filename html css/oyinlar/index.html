<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jumping Ball</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { overflow: hidden; background: linear-gradient(to top, #74ebd5, #acb6e5); height: 100vh; }
    canvas { background: transparent; display: block; margin: 0 auto; }
    h1 {
      position: absolute;
      top: 10px;
      width: 100%;
      text-align: center;
      color: #333;
      font-family: Arial, sans-serif;
    }
  </style>
</head>
<body>
<h1>Jumping Ball Game</h1>
<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let ball = {
  x: 100,
  y: canvas.height - 100,
  radius: 20,
  color: 'red',
  dy: 0,
  gravity: 0.8,
  jumpForce: -15
};

let obstacles = [];
let frame = 0;
let score = 0;
let gameOver = false;

document.addEventListener('keydown', function(e) {
  if (e.code === 'Space' && ball.y > 50) {
    ball.dy = ball.jumpForce;
  }
});

function drawBall() {
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
  ctx.fillStyle = ball.color;
  ctx.fill();
  ctx.closePath();
}

function drawObstacles() {
  ctx.fillStyle = 'green';
  for (let obs of obstacles) {
    ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
  }
}

function updateObstacles() {
  if (frame % 120 === 0) {
    obstacles.push({
      x: canvas.width,
      y: canvas.height - 50,
      width: 30,
      height: 50
    });
  }
  for (let obs of obstacles) {
    obs.x -= 5;
  }
  obstacles = obstacles.filter(obs => obs.x + obs.width > 0);
}

function checkCollision() {
  for (let obs of obstacles) {
    if (ball.x + ball.radius > obs.x && ball.x - ball.radius < obs.x + obs.width &&
        ball.y + ball.radius > obs.y) {
      gameOver = true;
    }
  }
}

function update() {
  if (gameOver) {
    ctx.font = '48px Arial';
    ctx.fillStyle = 'black';
    ctx.fillText('Game Over! Score: ' + score, canvas.width/2 - 200, canvas.height/2);
    return;
  }

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ball.dy += ball.gravity;
  ball.y += ball.dy;

  if (ball.y + ball.radius > canvas.height) {
    ball.y = canvas.height - ball.radius;
    ball.dy = 0;
  }

  drawBall();
  drawObstacles();
  updateObstacles();
  checkCollision();

  score++;
  ctx.font = '24px Arial';
  ctx.fillStyle = 'black';
  ctx.fillText('Score: ' + score, 10, 30);

  frame++;
  requestAnimationFrame(update);
}

update();
</script>
</body>
</html>